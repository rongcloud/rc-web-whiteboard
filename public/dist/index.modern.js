var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){var t={exports:{}};return e(t,t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),o=function(e){try{return!!e()}catch(e){return!0}},i=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),c={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,u={f:a&&!c.call({1:2},1)?function(e){var t=a(this,e);return!!t&&t.enumerable}:c},s=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,l=function(e){return f.call(e).slice(8,-1)},p="".split,d=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==l(e)?p.call(e,""):Object(e)}:Object,h=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return d(h(e))},y=function(e){return"object"==typeof e?null!==e:"function"==typeof e},g=function(e,t){if(!y(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!y(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},m=function(e){return Object(h(e))},E={}.hasOwnProperty,b=Object.hasOwn||function(e,t){return E.call(m(e),t)},S=r.document,R=y(S)&&y(S.createElement),w=function(e){return R?S.createElement(e):{}},O=!i&&!o(function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a}),j=Object.getOwnPropertyDescriptor,T={f:i?j:function(e,t){if(e=v(e),t=g(t,!0),O)try{return j(e,t)}catch(e){}if(b(e,t))return s(!u.f.call(e,t),e[t])}},x=function(e){if(!y(e))throw TypeError(String(e)+" is not an object");return e},C=Object.defineProperty,P={f:i?C:function(e,t,n){if(x(e),t=g(t,!0),x(n),O)try{return C(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},I=i?function(e,t,n){return P.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e},_=function(e,t){try{I(r,e,t)}catch(n){r[e]=t}return t},U=r["__core-js_shared__"]||_("__core-js_shared__",{}),k=Function.toString;"function"!=typeof U.inspectSource&&(U.inspectSource=function(e){return k.call(e)});var A,N,M,F=U.inspectSource,D=r.WeakMap,$="function"==typeof D&&/native code/.test(F(D)),L=t(function(e){(e.exports=function(e,t){return U[e]||(U[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),K=0,q=Math.random(),V=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++K+q).toString(36)},Y=L("keys"),H=function(e){return Y[e]||(Y[e]=V(e))},X={};if($||U.state){var Q=U.state||(U.state=new(0,r.WeakMap)),z=Q.get,B=Q.has,G=Q.set;A=function(e,t){if(B.call(Q,e))throw new TypeError("Object already initialized");return t.facade=e,G.call(Q,e,t),t},N=function(e){return z.call(Q,e)||{}},M=function(e){return B.call(Q,e)}}else{var W=H("state");X[W]=!0,A=function(e,t){if(b(e,W))throw new TypeError("Object already initialized");return t.facade=e,I(e,W,t),t},N=function(e){return b(e,W)?e[W]:{}},M=function(e){return b(e,W)}}var J,Z,ee={set:A,get:N,has:M,enforce:function(e){return M(e)?N(e):A(e,{})},getterFor:function(e){return function(t){var n;if(!y(t)||(n=N(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},te=t(function(e){var t=ee.get,n=ee.enforce,o=String(String).split("String");(e.exports=function(e,t,i,c){var a,u=!!c&&!!c.unsafe,s=!!c&&!!c.enumerable,f=!!c&&!!c.noTargetGet;"function"==typeof i&&("string"!=typeof t||b(i,"name")||I(i,"name",t),(a=n(i)).source||(a.source=o.join("string"==typeof t?t:""))),e!==r?(u?!f&&e[t]&&(s=!0):delete e[t],s?e[t]=i:I(e,t,i)):s?e[t]=i:_(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||F(this)})}),ne=r,re=function(e){return"function"==typeof e?e:void 0},oe=function(e,t){return arguments.length<2?re(ne[e])||re(r[e]):ne[e]&&ne[e][t]||r[e]&&r[e][t]},ie=Math.ceil,ce=Math.floor,ae=function(e){return isNaN(e=+e)?0:(e>0?ce:ie)(e)},ue=Math.min,se=function(e){return e>0?ue(ae(e),9007199254740991):0},fe=Math.max,le=Math.min,pe=function(e){return function(t,n,r){var o,i=v(t),c=se(i.length),a=function(e,t){var n=ae(e);return n<0?fe(n+t,0):le(n,t)}(r,c);if(e&&n!=n){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((e||a in i)&&i[a]===n)return e||a||0;return!e&&-1}},de=(pe(!0),pe(!1)),he=function(e,t){var n,r=v(e),o=0,i=[];for(n in r)!b(X,n)&&b(r,n)&&i.push(n);for(;t.length>o;)b(r,n=t[o++])&&(~de(i,n)||i.push(n));return i},ve=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ye=ve.concat("length","prototype"),ge={f:Object.getOwnPropertyNames||function(e){return he(e,ye)}},me={f:Object.getOwnPropertySymbols},Ee=oe("Reflect","ownKeys")||function(e){var t=ge.f(x(e)),n=me.f;return n?t.concat(n(e)):t},be=function(e,t){for(var n=Ee(t),r=P.f,o=T.f,i=0;i<n.length;i++){var c=n[i];b(e,c)||r(e,c,o(t,c))}},Se=/#|\.prototype\./,Re=function(e,t){var n=Oe[we(e)];return n==Te||n!=je&&("function"==typeof t?o(t):!!t)},we=Re.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},Oe=Re.data={},je=Re.NATIVE="N",Te=Re.POLYFILL="P",xe=Re,Ce=T.f,Pe=function(e,t){var n,o,i,c,a,u=e.target,s=e.global,f=e.stat;if(n=s?r:f?r[u]||_(u,{}):(r[u]||{}).prototype)for(o in t){if(c=t[o],i=e.noTargetGet?(a=Ce(n,o))&&a.value:n[o],!xe(s?o:u+(f?".":"#")+o,e.forced)&&void 0!==i){if(typeof c==typeof i)continue;be(c,i)}(e.sham||i&&i.sham)&&I(c,"sham",!0),te(n,o,c,e)}},Ie=r.Promise,_e=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return x(n),function(e){if(!y(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Ue=oe("navigator","userAgent")||"",ke=r.process,Ae=ke&&ke.versions,Ne=Ae&&Ae.v8;Ne?Z=(J=Ne.split("."))[0]<4?1:J[0]+J[1]:Ue&&(!(J=Ue.match(/Edge\/(\d+)/))||J[1]>=74)&&(J=Ue.match(/Chrome\/(\d+)/))&&(Z=J[1]);var Me=Z&&+Z,Fe=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Me&&Me<41}),De=Fe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$e=L("wks"),Le=r.Symbol,Ke=De?Le:Le&&Le.withoutSetter||V,qe=function(e){return b($e,e)&&(Fe||"string"==typeof $e[e])||($e[e]=Fe&&b(Le,e)?Le[e]:Ke("Symbol."+e)),$e[e]},Ve=P.f,Ye=qe("toStringTag"),He=qe("species"),Xe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Qe={},ze=qe("iterator"),Be=Array.prototype,Ge=function(e,t,n){if(Xe(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},We={};We[qe("toStringTag")]="z";var Je="[object z]"===String(We),Ze=qe("toStringTag"),et="Arguments"==l(function(){return arguments}()),tt=Je?l:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Ze))?n:et?l(t):"Object"==(r=l(t))&&"function"==typeof t.callee?"Arguments":r},nt=qe("iterator"),rt=function(e){var t=e.return;if(void 0!==t)return x(t.call(e)).value},ot=function(e,t){this.stopped=e,this.result=t},it=function(e,t,n){var r,o,i,c,a,u,s,f,l=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),h=Ge(t,n&&n.that,1+l+d),v=function(e){return r&&rt(r),new ot(!0,e)},y=function(e){return l?(x(e),d?h(e[0],e[1],v):h(e[0],e[1])):d?h(e,v):h(e)};if(p)r=e;else{if("function"!=typeof(o=function(e){if(null!=e)return e[nt]||e["@@iterator"]||Qe[tt(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(f=o)&&(Qe.Array===f||Be[ze]===f)){for(i=0,c=se(e.length);c>i;i++)if((a=y(e[i]))&&a instanceof ot)return a;return new ot(!1)}r=o.call(e)}for(u=r.next;!(s=u.call(r)).done;){try{a=y(s.value)}catch(e){throw rt(r),e}if("object"==typeof a&&a&&a instanceof ot)return a}return new ot(!1)},ct=qe("iterator"),at=!1;try{var ut=0,st={next:function(){return{done:!!ut++}},return:function(){at=!0}};st[ct]=function(){return this},Array.from(st,function(){throw 2})}catch(e){}var ft,lt,pt,dt=qe("species"),ht=oe("document","documentElement"),vt=/(?:iphone|ipod|ipad).*applewebkit/i.test(Ue),yt="process"==l(r.process),gt=r.location,mt=r.setImmediate,Et=r.clearImmediate,bt=r.process,St=r.MessageChannel,Rt=r.Dispatch,wt=0,Ot={},jt=function(e){if(Ot.hasOwnProperty(e)){var t=Ot[e];delete Ot[e],t()}},Tt=function(e){return function(){jt(e)}},xt=function(e){jt(e.data)},Ct=function(e){r.postMessage(e+"",gt.protocol+"//"+gt.host)};mt&&Et||(mt=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Ot[++wt]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},ft(wt),wt},Et=function(e){delete Ot[e]},yt?ft=function(e){bt.nextTick(Tt(e))}:Rt&&Rt.now?ft=function(e){Rt.now(Tt(e))}:St&&!vt?(pt=(lt=new St).port2,lt.port1.onmessage=xt,ft=Ge(pt.postMessage,pt,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&gt&&"file:"!==gt.protocol&&!o(Ct)?(ft=Ct,r.addEventListener("message",xt,!1)):ft="onreadystatechange"in w("script")?function(e){ht.appendChild(w("script")).onreadystatechange=function(){ht.removeChild(this),jt(e)}}:function(e){setTimeout(Tt(e),0)});var Pt,It,_t,Ut,kt,At,Nt,Mt,Ft={set:mt,clear:Et},Dt=/web0s(?!.*chrome)/i.test(Ue),$t=Ft.set,Lt=r.MutationObserver||r.WebKitMutationObserver,Kt=r.document,qt=r.process,Vt=r.Promise,Yt=(0,T.f)(r,"queueMicrotask"),Ht=Yt&&Yt.value;Ht||(Pt=function(){var e,t;for(yt&&(e=qt.domain)&&e.exit();It;){t=It.fn,It=It.next;try{t()}catch(e){throw It?Ut():_t=void 0,e}}_t=void 0,e&&e.enter()},vt||yt||Dt||!Lt||!Kt?Vt&&Vt.resolve?((Nt=Vt.resolve(void 0)).constructor=Vt,Mt=Nt.then,Ut=function(){Mt.call(Nt,Pt)}):Ut=yt?function(){qt.nextTick(Pt)}:function(){$t.call(r,Pt)}:(kt=!0,At=Kt.createTextNode(""),new Lt(Pt).observe(At,{characterData:!0}),Ut=function(){At.data=kt=!kt}));var Xt,Qt,zt,Bt,Gt,Wt,Jt,Zt=Ht||function(e){var t={fn:e,next:void 0};_t&&(_t.next=t),It||(It=t,Ut()),_t=t},en=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=Xe(t),this.reject=Xe(n)},tn={f:function(e){return new en(e)}},nn=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},rn="object"==typeof window,on=Ft.set,cn=qe("species"),an=ee.get,un=ee.set,sn=ee.getterFor("Promise"),fn=Ie&&Ie.prototype,ln=Ie,pn=fn,dn=r.TypeError,hn=r.document,vn=r.process,yn=tn.f,gn=yn,mn=!!(hn&&hn.createEvent&&r.dispatchEvent),En="function"==typeof PromiseRejectionEvent,bn=!1,Sn=xe("Promise",function(){var e=F(ln),t=e!==String(ln);if(!t&&66===Me)return!0;if(Me>=51&&/native code/.test(e))return!1;var n=new ln(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[cn]=r,!(bn=n.then(function(){})instanceof r)||!t&&rn&&!En}),Rn=Sn||!function(e,t){if(!at)return!1;var n=!1;try{var r={};r[ct]=function(){return{next:function(){return{done:n=!0}}}},ln.all(r).catch(function(){})}catch(e){}return n}(),wn=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},On=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;Zt(function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var c,a,u,s=n[i++],f=o?s.ok:s.fail,l=s.resolve,p=s.reject,d=s.domain;try{f?(o||(2===e.rejection&&Cn(e),e.rejection=1),!0===f?c=r:(d&&d.enter(),c=f(r),d&&(d.exit(),u=!0)),c===s.promise?p(dn("Promise-chain cycle")):(a=wn(c))?a.call(c,l,p):l(c)):p(r)}catch(e){d&&!u&&d.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Tn(e)})}},jn=function(e,t,n){var o,i;mn?((o=hn.createEvent("Event")).promise=t,o.reason=n,o.initEvent(e,!1,!0),r.dispatchEvent(o)):o={promise:t,reason:n},!En&&(i=r["on"+e])?i(o):"unhandledrejection"===e&&function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Tn=function(e){on.call(r,function(){var t,n=e.facade,r=e.value;if(xn(e)&&(t=nn(function(){yt?vn.emit("unhandledRejection",r,n):jn("unhandledrejection",n,r)}),e.rejection=yt||xn(e)?2:1,t.error))throw t.value})},xn=function(e){return 1!==e.rejection&&!e.parent},Cn=function(e){on.call(r,function(){var t=e.facade;yt?vn.emit("rejectionHandled",t):jn("rejectionhandled",t,e.value)})},Pn=function(e,t,n){return function(r){e(t,r,n)}},In=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,On(e,!0))},_n=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw dn("Promise can't be resolved itself");var r=wn(t);r?Zt(function(){var n={done:!1};try{r.call(t,Pn(_n,n,e),Pn(In,n,e))}catch(t){In(n,t,e)}}):(e.value=t,e.state=1,On(e,!1))}catch(t){In({done:!1},t,e)}}};if(Sn&&(ln=function(e){!function(e,t,n){if(!(e instanceof ln))throw TypeError("Incorrect Promise invocation")}(this),Xe(e),Xt.call(this);var t=an(this);try{e(Pn(_n,t),Pn(In,t))}catch(e){In(t,e)}},(Xt=function(e){un(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)te(e,r,t[r],void 0);return e}(pn=ln.prototype,{then:function(e,t){var n,r,o,i=sn(this),c=yn((n=ln,void 0===(o=x(this).constructor)||null==(r=x(o)[dt])?n:Xe(r)));return c.ok="function"!=typeof e||e,c.fail="function"==typeof t&&t,c.domain=yt?vn.domain:void 0,i.parent=!0,i.reactions.push(c),0!=i.state&&On(i,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),Qt=function(){var e=new Xt,t=an(e);this.promise=e,this.resolve=Pn(_n,t),this.reject=Pn(In,t)},tn.f=yn=function(e){return e===ln||e===zt?new Qt(e):gn(e)},"function"==typeof Ie&&fn!==Object.prototype)){Bt=fn.then,bn||(te(fn,"then",function(e,t){var n=this;return new ln(function(e,t){Bt.call(n,e,t)}).then(e,t)},{unsafe:!0}),te(fn,"catch",pn.catch,{unsafe:!0}));try{delete fn.constructor}catch(e){}_e&&_e(fn,pn)}Pe({global:!0,wrap:!0,forced:Sn},{Promise:ln}),(Gt=ln)&&!b(Gt=Gt.prototype,Ye)&&Ve(Gt,Ye,{configurable:!0,value:"Promise"}),Wt=oe("Promise"),i&&Wt&&!Wt[He]&&(0,P.f)(Wt,He,{configurable:!0,get:function(){return this}}),zt=oe("Promise"),Pe({target:"Promise",stat:!0,forced:Sn},{reject:function(e){var t=yn(this);return t.reject.call(void 0,e),t.promise}}),Pe({target:"Promise",stat:!0,forced:Sn},{resolve:function(e){return function(e,t){if(x(e),y(t)&&t.constructor===e)return t;var n=tn.f(e);return(0,n.resolve)(t),n.promise}(this,e)}}),Pe({target:"Promise",stat:!0,forced:Rn},{all:function(e){var t=this,n=yn(t),r=n.resolve,o=n.reject,i=nn(function(){var n=Xe(t.resolve),i=[],c=0,a=1;it(e,function(e){var u=c++,s=!1;i.push(void 0),a++,n.call(t,e).then(function(e){s||(s=!0,i[u]=e,--a||r(i))},o)}),--a||r(i)});return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=yn(t),r=n.reject,o=nn(function(){var o=Xe(t.resolve);it(e,function(e){o.call(t,e).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}}),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT"}(Jt||(Jt={}));var Un,kn=function(){var e=x(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},An=function(e,t){return RegExp(e,t)},Nn={UNSUPPORTED_Y:o(function(){var e=An("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:o(function(){var e=An("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Mn=Object.keys||function(e){return he(e,ve)},Fn=i?Object.defineProperties:function(e,t){x(e);for(var n,r=Mn(t),o=r.length,i=0;o>i;)P.f(e,n=r[i++],t[n]);return e},Dn=H("IE_PROTO"),$n=function(){},Ln=function(e){return"<script>"+e+"<\/script>"},Kn=function(){try{Un=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Kn=Un?function(e){e.write(Ln("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Un):((t=w("iframe")).style.display="none",ht.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ln("document.F=Object")),e.close(),e.F);for(var n=ve.length;n--;)delete Kn.prototype[ve[n]];return Kn()};X[Dn]=!0;var qn,Vn,Yn=Object.create||function(e,t){var n;return null!==e?($n.prototype=x(e),n=new $n,$n.prototype=null,n[Dn]=e):n=Kn(),void 0===t?n:Fn(n,t)},Hn=o(function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}),Xn=o(function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),Qn=ee.get,zn=RegExp.prototype.exec,Bn=L("native-string-replace",String.prototype.replace),Gn=zn,Wn=(Vn=/b*/g,zn.call(qn=/a/,"a"),zn.call(Vn,"a"),0!==qn.lastIndex||0!==Vn.lastIndex),Jn=Nn.UNSUPPORTED_Y||Nn.BROKEN_CARET,Zn=void 0!==/()??/.exec("")[1];(Wn||Zn||Jn||Hn||Xn)&&(Gn=function(e){var t,n,r,o,i,c,a,u=this,s=Qn(u),f=s.raw;if(f)return f.lastIndex=u.lastIndex,t=Gn.call(f,e),u.lastIndex=f.lastIndex,t;var l=s.groups,p=Jn&&u.sticky,d=kn.call(u),h=u.source,v=0,y=e;if(p&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),y=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(h="(?: "+h+")",y=" "+y,v++),n=new RegExp("^(?:"+h+")",d)),Zn&&(n=new RegExp("^"+h+"$(?!\\s)",d)),Wn&&(r=u.lastIndex),o=zn.call(p?n:u,y),p?o?(o.input=o.input.slice(v),o[0]=o[0].slice(v),o.index=u.lastIndex,u.lastIndex+=o[0].length):u.lastIndex=0:Wn&&o&&(u.lastIndex=u.global?o.index+o[0].length:r),Zn&&o&&o.length>1&&Bn.call(o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o&&l)for(o.groups=c=Yn(null),i=0;i<l.length;i++)c[(a=l[i])[0]]=o[a[1]];return o});var er=Gn;Pe({target:"RegExp",proto:!0,forced:/./.exec!==er},{exec:er}),qe("species");var tr,nr=RegExp.prototype,rr=function(e){return function(t,n){var r,o,i=String(h(t)),c=ae(n),a=i.length;return c<0||c>=a?e?"":void 0:(r=i.charCodeAt(c))<55296||r>56319||c+1===a||(o=i.charCodeAt(c+1))<56320||o>57343?e?i.charAt(c):r:e?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},or=(rr(!1),rr(!0)),ir=function(e,t,n){return t+(n?or(e,t).length:1)},cr=Math.floor,ar="".replace,ur=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,sr=/\$([$&'`]|\d{1,2})/g,fr=function(e,t,n,r,o,i){var c=n+e.length,a=r.length,u=sr;return void 0!==o&&(o=m(o),u=ur),ar.call(i,u,function(i,u){var s;switch(u.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":s=o[u.slice(1,-1)];break;default:var f=+u;if(0===f)return i;if(f>a){var l=cr(f/10);return 0===l?i:l<=a?void 0===r[l-1]?u.charAt(1):r[l-1]+u.charAt(1):i}s=r[f-1]}return void 0===s?"":s})},lr=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==l(e))throw TypeError("RegExp#exec called on incompatible receiver");return er.call(e,t)},pr=qe("replace"),dr=Math.max,hr=Math.min,vr=function(e){return void 0===e?e:String(e)},yr="$0"==="a".replace(/./,"$0"),gr=!!/./[pr]&&""===/./[pr]("a","$0");function mr(e){const t=e.method||Jt.GET,n=e.timeout||6e4,{headers:r,query:o,body:i}=e,c=((e,t)=>{if(e=e.replace(/\?$/,""),!t)return e;const n=Object.keys(t).map(e=>`${e}=${t[e]}`).filter(e=>!!e);return n.length?[e,n.join("&")].join("?"):e})(e.url,o);return new Promise(e=>{const o=(()=>{const e="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;return"undefined"!=typeof XMLHttpRequest&&e?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP")})(),a="[object XDomainRequest]"===Object.prototype.toString.call(o);if(o.open(t,c),r&&o.setRequestHeader)for(const e in r)o.setRequestHeader(e,r[e]);if(a){o.timeout=n,o.onload=function(){e({data:o.responseText,status:o.status||200})},o.onerror=function(){e({status:o.status||0})},o.ontimeout=()=>{e({status:o.status||0})};const t="object"==typeof i?JSON.stringify(i):i;o.send(t)}else o.onreadystatechange=()=>{4===o.readyState&&e({data:o.responseText,status:o.status})},o.onerror=function(){e({status:o.status||0})},setTimeout(()=>e({status:o.status||0}),n),o.send(i)})}!function(e,t,n,r){var i=qe(e),c=!o(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),a=c&&!o(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},t[i](""),!e});if(!c||!a||n){var u=/./[i],s=function(e,t,n){var r=gr?"$":"$0";return[function(e,n){var r=h(this),o=null==e?void 0:e[pr];return void 0!==o?o.call(e,r,n):t.call(String(r),e,n)},function(e,n){if("string"==typeof n&&-1===n.indexOf(r)&&-1===n.indexOf("$<")){var o=(i=t,a=e,s=n,(f=this.exec)===er||f===nr.exec?c?{done:!0,value:u.call(this,a,s)}:{done:!0,value:i.call(a,this,s)}:{done:!1});if(o.done)return o.value}var i,a,s,f,l=x(this),p=String(e),d="function"==typeof n;d||(n=String(n));var h=l.global;if(h){var v=l.unicode;l.lastIndex=0}for(var y=[];;){var g=lr(l,p);if(null===g)break;if(y.push(g),!h)break;""===String(g[0])&&(l.lastIndex=ir(p,se(l.lastIndex),v))}for(var m="",E=0,b=0;b<y.length;b++){g=y[b];for(var S=String(g[0]),R=dr(hr(ae(g.index),p.length),0),w=[],O=1;O<g.length;O++)w.push(vr(g[O]));var j=g.groups;if(d){var T=[S].concat(w,R,p);void 0!==j&&T.push(j);var C=String(n.apply(void 0,T))}else C=fr(S,p,R,w,j,n);R>=E&&(m+=p.slice(E,R)+C,E=R+S.length)}return m+p.slice(E)}]}(0,""[e]);te(String.prototype,e,s[0]),te(nr,i,s[1])}}("replace",0,!!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!yr||gr),function(e){e[e.SUCCESS=200]="SUCCESS",e[e.LESSHOLDER_SUCCESS=0]="LESSHOLDER_SUCCESS",e[e.SEND_FREQUENCY_TOO_FAST=5e3]="SEND_FREQUENCY_TOO_FAST",e[e.REQUEST_ERROR=400]="REQUEST_ERROR",e[e.SERVER_ERROR=500]="SERVER_ERROR",e[e.VERIFY_CODE_ERROR=1e3]="VERIFY_CODE_ERROR",e[e.VERIFY_CODE_TIMEOUT=2e3]="VERIFY_CODE_TIMEOUT",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED"}(tr||(tr={}));const Er={SEND_FREQUENCY_TOO_FAST:{code:5e3,msg:"发送频率过快"},REQUEST_ERROR:{code:400,msg:"错误的请求"},SERVER_ERROR:{code:500,msg:"服务器错误"},VERIFY_CODE_ERROR:{code:1e3,msg:"验证码错误"},VERIFY_CODE_TIMEOUT:{code:2e3,msg:"验证码过期"},PERMISSION_DENIED:{code:403,msg:"权限校验失败"}},br={},Sr={};for(const e in Er){const t=Er[e],{code:n}=t;br[n]=e,Sr[n]=t}const Rr=async()=>{try{const{data:e,status:t}=await mr({url:"http://navqa.cn.ronghub.com/whiteboard/config.json"});if(t!==tr.SUCCESS)return Promise.reject({code:t,msg:br[t]||br[500]});const{iwbConferenceUri:n,iwbLeaseUri:r,code:o}=JSON.parse(e);return o!==tr.SUCCESS?Promise.reject({code:o,msg:br[o]}):{iwbConferenceUri:n,iwbLeaseUri:r}}catch(e){return Promise.reject(e)}};var wr;function Or(e){const t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","M","N","P","Q","R","S","T","U","V","W","X","Y","Z"];let n="";for(let r=0;r<e;r++)n+=t[Math.ceil(30*Math.random())];return n}!function(e){e.AMDIN="admin",e.VIEWER=" viewer",e.RECORD="viewer"}(wr||(wr={}));const jr=async e=>{try{const{iwbConferenceUri:t,iwbLeaseUri:n}=await Rr(),{contract:r}=await(async e=>{try{const t={hubId:e.hubId,outTradeNo:"AIQGV8BC36",name:"融云测试房间1",loadUrl:"",saveUrl:"",ownerId:"1234",ownerName:"rongyundemo",minutes:60,points:10,delayMinutes:5,saveInterval:30,defaultBgColor:"#333333",defaultPenColor:"#FFFFFF",laserPen:!1,ext:{pensettings:{colors:["#FFFFFF","#000000","#EB5757","#47b04b","#1194f6","#ffc200","#9d1bb2","#ec1561","#7a5547","#99CCCC","#003366","#808000"]}}},n=`http://${e.baseUrl}/api/v1/iwb/lease`,r={"RC-Token":e["RC-Token"],"RC-AppKey":e["RC-AppKey"]},{data:o,status:i}=await mr({url:n,method:"POST",headers:r,query:t});if(i!==tr.SUCCESS)return Promise.reject({code:i,msg:br[i]||br[500]});const{contract:c,serverId:a,code:u}=JSON.parse(o);return 0!==u?Promise.reject({code:u,msg:br[u]}):{contract:c,serverId:a}}catch(e){return Promise.reject(e)}})({"RC-AppKey":e.appkey,"RC-Token":e.token,baseUrl:n,hubId:e.hubId});r.roomName=e.roomName,r.nickname=e.nickname,r.role=e.role,r.appKey=e.appkey;const{key:o}=await(async e=>{try{const t=Or(4),n={appKey:e.appKey,roomCode:e.id,name:e.roomName,contract:{},user:{uid:t,role:e.role,token:t,name:e.nickname+Or(2)},token:t};for(const t in e)n.contract[t]=e[t];const r={"RC-Token":e.accessToken,"RC-AppKey":e.appKey},{data:o,status:i}=await mr({url:e.baseUrl+"/api/1/im/tstore/?activeSeconds=300",query:n,method:"POST",headers:r});if(i!==tr.SUCCESS)return Promise.reject({code:i,msg:br[i]||br[500]});const{key:c,code:a}=JSON.parse(o);return a!==tr.SUCCESS?Promise.reject({code:a,msg:br[a]}):{key:c}}catch(e){return Promise.reject(e)}})(r);return`http://${t}?key=${o}`}catch(e){return Promise.reject(e)}},Tr=async e=>{try{const{iwbLeaseUri:t}=await Rr();return await(async e=>{try{const t={"RC-Token":e["RC-Token"],"RC-AppKey":e["RC-AppKey"]},{data:n,status:r}=await mr({url:"http://"+e.baseUrl+"/api/v1/iwb/free/",method:"PUT",headers:t,query:e});if(200===r&&"string"==typeof n){const{code:e}=JSON.parse(n);return 0===e}return Promise.reject({res:n,status:r})}catch(e){return Promise.reject(e)}})({baseUrl:t,hubId:e.hubId,adminToken:e.adminToken,applyId:"123",applyName:"test",reason:"nothing","RC-Token":e.token,"RC-AppKey":e.appKey})}catch(e){return Promise.reject(e)}},xr={joinRoom:jr,exitRoom:Tr};export default xr;export{Tr as exitRoom,jr as joinRoom};
//# sourceMappingURL=index.modern.js.map
