!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).RongWhiteWebSdk={})}(this,function(e){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){var t={exports:{}};return e(t,t.exports),t.exports}var r,o,i=function(e){return e&&e.Math==Math&&e},c=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")(),u=function(e){try{return!!e()}catch(e){return!0}},a=!u(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),f=function(e){return"object"==typeof e?null!==e:"function"==typeof e},s=c.document,l=f(s)&&f(s.createElement),p=function(e){return l?s.createElement(e):{}},d=!a&&!u(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a}),v=function(e){if(!f(e))throw TypeError(String(e)+" is not an object");return e},h=function(e,t){if(!f(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!f(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!f(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!f(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},y=Object.defineProperty,m={f:a?y:function(e,t,n){if(v(e),t=h(t,!0),v(n),d)try{return y(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},g=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},b=a?function(e,t,n){return m.f(e,t,g(1,n))}:function(e,t,n){return e[t]=n,e},E=function(e,t){try{b(c,e,t)}catch(n){c[e]=t}return t},S="__core-js_shared__",R=c[S]||E(S,{}),O=n(function(e){(e.exports=function(e,t){return R[e]||(R[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),j=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},w=function(e){return Object(j(e))},T={}.hasOwnProperty,P=Object.hasOwn||function(e,t){return T.call(w(e),t)},x=0,I=Math.random(),C=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++x+I).toString(36)},_=c,A=function(e){return"function"==typeof e?e:void 0},k=function(e,t){return arguments.length<2?A(_[e])||A(c[e]):_[e]&&_[e][t]||c[e]&&c[e][t]},U=k("navigator","userAgent")||"",M=c.process,N=M&&M.versions,F=N&&N.v8;F?o=(r=F.split("."))[0]<4?1:r[0]+r[1]:U&&(!(r=U.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=U.match(/Chrome\/(\d+)/))&&(o=r[1]);var D=o&&+o,L=!!Object.getOwnPropertySymbols&&!u(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&D&&D<41}),K=L&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,q=O("wks"),$=c.Symbol,V=K?$:$&&$.withoutSetter||C,Y=function(e){return P(q,e)&&(L||"string"==typeof q[e])||(q[e]=L&&P($,e)?$[e]:V("Symbol."+e)),q[e]},H={};H[Y("toStringTag")]="z";var X="[object z]"===String(H),W=Function.toString;"function"!=typeof R.inspectSource&&(R.inspectSource=function(e){return W.call(e)});var B,Q,G,z=R.inspectSource,J=c.WeakMap,Z="function"==typeof J&&/native code/.test(z(J)),ee=O("keys"),te=function(e){return ee[e]||(ee[e]=C(e))},ne={},re="Object already initialized";if(Z||R.state){var oe=R.state||(R.state=new(0,c.WeakMap)),ie=oe.get,ce=oe.has,ue=oe.set;B=function(e,t){if(ce.call(oe,e))throw new TypeError(re);return t.facade=e,ue.call(oe,e,t),t},Q=function(e){return ie.call(oe,e)||{}},G=function(e){return ce.call(oe,e)}}else{var ae=te("state");ne[ae]=!0,B=function(e,t){if(P(e,ae))throw new TypeError(re);return t.facade=e,b(e,ae,t),t},Q=function(e){return P(e,ae)?e[ae]:{}},G=function(e){return P(e,ae)}}var fe={set:B,get:Q,has:G,enforce:function(e){return G(e)?Q(e):B(e,{})},getterFor:function(e){return function(t){var n;if(!f(t)||(n=Q(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},se=n(function(e){var t=fe.get,n=fe.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var u,a=!!i&&!!i.unsafe,f=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||P(o,"name")||b(o,"name",t),(u=n(o)).source||(u.source=r.join("string"==typeof t?t:""))),e!==c?(a?!s&&e[t]&&(f=!0):delete e[t],f?e[t]=o:b(e,t,o)):f?e[t]=o:E(t,o)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||z(this)})}),le={}.toString,pe=function(e){return le.call(e).slice(8,-1)},de=Y("toStringTag"),ve="Arguments"==pe(function(){return arguments}()),he=X?pe:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),de))?n:ve?pe(t):"Object"==(r=pe(t))&&"function"==typeof t.callee?"Arguments":r};X||se(Object.prototype,"toString",X?{}.toString:function(){return"[object "+he(this)+"]"},{unsafe:!0});var ye={}.propertyIsEnumerable,me=Object.getOwnPropertyDescriptor,ge={f:me&&!ye.call({1:2},1)?function(e){var t=me(this,e);return!!t&&t.enumerable}:ye},be="".split,Ee=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==pe(e)?be.call(e,""):Object(e)}:Object,Se=function(e){return Ee(j(e))},Re=Object.getOwnPropertyDescriptor,Oe={f:a?Re:function(e,t){if(e=Se(e),t=h(t,!0),d)try{return Re(e,t)}catch(e){}if(P(e,t))return g(!ge.f.call(e,t),e[t])}},je=Math.ceil,we=Math.floor,Te=function(e){return isNaN(e=+e)?0:(e>0?we:je)(e)},Pe=Math.min,xe=function(e){return e>0?Pe(Te(e),9007199254740991):0},Ie=Math.max,Ce=Math.min,_e=function(e){return function(t,n,r){var o,i=Se(t),c=xe(i.length),u=function(e,t){var n=Te(e);return n<0?Ie(n+t,0):Ce(n,t)}(r,c);if(e&&n!=n){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((e||u in i)&&i[u]===n)return e||u||0;return!e&&-1}},Ae=(_e(!0),_e(!1)),ke=function(e,t){var n,r=Se(e),o=0,i=[];for(n in r)!P(ne,n)&&P(r,n)&&i.push(n);for(;t.length>o;)P(r,n=t[o++])&&(~Ae(i,n)||i.push(n));return i},Ue=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Me=Ue.concat("length","prototype"),Ne={f:Object.getOwnPropertyNames||function(e){return ke(e,Me)}},Fe={f:Object.getOwnPropertySymbols},De=k("Reflect","ownKeys")||function(e){var t=Ne.f(v(e)),n=Fe.f;return n?t.concat(n(e)):t},Le=function(e,t){for(var n=De(t),r=m.f,o=Oe.f,i=0;i<n.length;i++){var c=n[i];P(e,c)||r(e,c,o(t,c))}},Ke=/#|\.prototype\./,qe=function(e,t){var n=Ve[$e(e)];return n==He||n!=Ye&&("function"==typeof t?u(t):!!t)},$e=qe.normalize=function(e){return String(e).replace(Ke,".").toLowerCase()},Ve=qe.data={},Ye=qe.NATIVE="N",He=qe.POLYFILL="P",Xe=qe,We=Oe.f,Be=function(e,t){var n,r,o,i,u,a=e.target,f=e.global,s=e.stat;if(n=f?c:s?c[a]||E(a,{}):(c[a]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(u=We(n,r))&&u.value:n[r],!Xe(f?r:a+(s?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Le(i,o)}(e.sham||o&&o.sham)&&b(i,"sham",!0),se(n,r,i,e)}},Qe=c.Promise,Ge=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return v(n),function(e){if(!f(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),ze=m.f,Je=Y("toStringTag"),Ze=Y("species"),et=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},tt={},nt=Y("iterator"),rt=Array.prototype,ot=function(e,t,n){if(et(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},it=Y("iterator"),ct=function(e){var t=e.return;if(void 0!==t)return v(t.call(e)).value},ut=function(e,t){this.stopped=e,this.result=t},at=function(e,t,n){var r,o,i,c,u,a,f,s,l=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),h=ot(t,n&&n.that,1+l+d),y=function(e){return r&&ct(r),new ut(!0,e)},m=function(e){return l?(v(e),d?h(e[0],e[1],y):h(e[0],e[1])):d?h(e,y):h(e)};if(p)r=e;else{if("function"!=typeof(o=function(e){if(null!=e)return e[it]||e["@@iterator"]||tt[he(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(s=o)&&(tt.Array===s||rt[nt]===s)){for(i=0,c=xe(e.length);c>i;i++)if((u=m(e[i]))&&u instanceof ut)return u;return new ut(!1)}r=o.call(e)}for(a=r.next;!(f=a.call(r)).done;){try{u=m(f.value)}catch(e){throw ct(r),e}if("object"==typeof u&&u&&u instanceof ut)return u}return new ut(!1)},ft=Y("iterator"),st=!1;try{var lt=0,pt={next:function(){return{done:!!lt++}},return:function(){st=!0}};pt[ft]=function(){return this},Array.from(pt,function(){throw 2})}catch(e){}var dt,vt,ht,yt=Y("species"),mt=k("document","documentElement"),gt=/(?:iphone|ipod|ipad).*applewebkit/i.test(U),bt="process"==pe(c.process),Et=c.location,St=c.setImmediate,Rt=c.clearImmediate,Ot=c.process,jt=c.MessageChannel,wt=c.Dispatch,Tt=0,Pt={},xt=function(e){if(Pt.hasOwnProperty(e)){var t=Pt[e];delete Pt[e],t()}},It=function(e){return function(){xt(e)}},Ct=function(e){xt(e.data)},_t=function(e){c.postMessage(e+"",Et.protocol+"//"+Et.host)};St&&Rt||(St=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Pt[++Tt]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},dt(Tt),Tt},Rt=function(e){delete Pt[e]},bt?dt=function(e){Ot.nextTick(It(e))}:wt&&wt.now?dt=function(e){wt.now(It(e))}:jt&&!gt?(ht=(vt=new jt).port2,vt.port1.onmessage=Ct,dt=ot(ht.postMessage,ht,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts&&Et&&"file:"!==Et.protocol&&!u(_t)?(dt=_t,c.addEventListener("message",Ct,!1)):dt="onreadystatechange"in p("script")?function(e){mt.appendChild(p("script")).onreadystatechange=function(){mt.removeChild(this),xt(e)}}:function(e){setTimeout(It(e),0)});var At,kt,Ut,Mt,Nt,Ft,Dt,Lt,Kt={set:St,clear:Rt},qt=/web0s(?!.*chrome)/i.test(U),$t=Kt.set,Vt=c.MutationObserver||c.WebKitMutationObserver,Yt=c.document,Ht=c.process,Xt=c.Promise,Wt=(0,Oe.f)(c,"queueMicrotask"),Bt=Wt&&Wt.value;Bt||(At=function(){var e,t;for(bt&&(e=Ht.domain)&&e.exit();kt;){t=kt.fn,kt=kt.next;try{t()}catch(e){throw kt?Mt():Ut=void 0,e}}Ut=void 0,e&&e.enter()},gt||bt||qt||!Vt||!Yt?Xt&&Xt.resolve?((Dt=Xt.resolve(void 0)).constructor=Xt,Lt=Dt.then,Mt=function(){Lt.call(Dt,At)}):Mt=bt?function(){Ht.nextTick(At)}:function(){$t.call(c,At)}:(Nt=!0,Ft=Yt.createTextNode(""),new Vt(At).observe(Ft,{characterData:!0}),Mt=function(){Ft.data=Nt=!Nt}));var Qt,Gt,zt,Jt,Zt,en,tn=Bt||function(e){var t={fn:e,next:void 0};Ut&&(Ut.next=t),kt||(kt=t,Mt()),Ut=t},nn=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=et(t),this.reject=et(n)},rn={f:function(e){return new nn(e)}},on=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},cn="object"==typeof window,un=Kt.set,an=Y("species"),fn="Promise",sn=fe.get,ln=fe.set,pn=fe.getterFor(fn),dn=Qe&&Qe.prototype,vn=Qe,hn=dn,yn=c.TypeError,mn=c.document,gn=c.process,bn=rn.f,En=bn,Sn=!!(mn&&mn.createEvent&&c.dispatchEvent),Rn="function"==typeof PromiseRejectionEvent,On="unhandledrejection",jn=!1,wn=Xe(fn,function(){var e=z(vn),t=e!==String(vn);if(!t&&66===D)return!0;if(D>=51&&/native code/.test(e))return!1;var n=new vn(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[an]=r,!(jn=n.then(function(){})instanceof r)||!t&&cn&&!Rn}),Tn=wn||!function(e,t){if(!st)return!1;var n=!1;try{var r={};r[ft]=function(){return{next:function(){return{done:n=!0}}}},vn.all(r).catch(function(){})}catch(e){}return n}(),Pn=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},xn=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;tn(function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var c,u,a,f=n[i++],s=o?f.ok:f.fail,l=f.resolve,p=f.reject,d=f.domain;try{s?(o||(2===e.rejection&&An(e),e.rejection=1),!0===s?c=r:(d&&d.enter(),c=s(r),d&&(d.exit(),a=!0)),c===f.promise?p(yn("Promise-chain cycle")):(u=Pn(c))?u.call(c,l,p):l(c)):p(r)}catch(e){d&&!a&&d.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Cn(e)})}},In=function(e,t,n){var r,o;Sn?((r=mn.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!Rn&&(o=c["on"+e])?o(r):e===On&&function(e,t){var n=c.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Cn=function(e){un.call(c,function(){var t,n=e.facade,r=e.value;if(_n(e)&&(t=on(function(){bt?gn.emit("unhandledRejection",r,n):In(On,n,r)}),e.rejection=bt||_n(e)?2:1,t.error))throw t.value})},_n=function(e){return 1!==e.rejection&&!e.parent},An=function(e){un.call(c,function(){var t=e.facade;bt?gn.emit("rejectionHandled",t):In("rejectionhandled",t,e.value)})},kn=function(e,t,n){return function(r){e(t,r,n)}},Un=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,xn(e,!0))},Mn=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw yn("Promise can't be resolved itself");var r=Pn(t);r?tn(function(){var n={done:!1};try{r.call(t,kn(Mn,n,e),kn(Un,n,e))}catch(t){Un(n,t,e)}}):(e.value=t,e.state=1,xn(e,!1))}catch(t){Un({done:!1},t,e)}}};if(wn&&(vn=function(e){!function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect Promise invocation")}(this,vn),et(e),Qt.call(this);var t=sn(this);try{e(kn(Mn,t),kn(Un,t))}catch(e){Un(t,e)}},(Qt=function(e){ln(this,{type:fn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)se(e,r,t[r],void 0);return e}(hn=vn.prototype,{then:function(e,t){var n,r,o,i=pn(this),c=bn((n=vn,void 0===(o=v(this).constructor)||null==(r=v(o)[yt])?n:et(r)));return c.ok="function"!=typeof e||e,c.fail="function"==typeof t&&t,c.domain=bt?gn.domain:void 0,i.parent=!0,i.reactions.push(c),0!=i.state&&xn(i,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),Gt=function(){var e=new Qt,t=sn(e);this.promise=e,this.resolve=kn(Mn,t),this.reject=kn(Un,t)},rn.f=bn=function(e){return e===vn||e===zt?new Gt(e):En(e)},"function"==typeof Qe&&dn!==Object.prototype)){Jt=dn.then,jn||(se(dn,"then",function(e,t){var n=this;return new vn(function(e,t){Jt.call(n,e,t)}).then(e,t)},{unsafe:!0}),se(dn,"catch",hn.catch,{unsafe:!0}));try{delete dn.constructor}catch(e){}Ge&&Ge(dn,hn)}Be({global:!0,wrap:!0,forced:wn},{Promise:vn}),(Zt=vn)&&!P(Zt=Zt.prototype,Je)&&ze(Zt,Je,{configurable:!0,value:"Promise"}),en=k(fn),a&&en&&!en[Ze]&&(0,m.f)(en,Ze,{configurable:!0,get:function(){return this}}),zt=k(fn),Be({target:fn,stat:!0,forced:wn},{reject:function(e){var t=bn(this);return t.reject.call(void 0,e),t.promise}}),Be({target:fn,stat:!0,forced:wn},{resolve:function(e){return function(e,t){if(v(e),f(t)&&t.constructor===e)return t;var n=rn.f(e);return(0,n.resolve)(t),n.promise}(this,e)}}),Be({target:fn,stat:!0,forced:Tn},{all:function(e){var t=this,n=bn(t),r=n.resolve,o=n.reject,i=on(function(){var n=et(t.resolve),i=[],c=0,u=1;at(e,function(e){var a=c++,f=!1;i.push(void 0),u++,n.call(t,e).then(function(e){f||(f=!0,i[a]=e,--u||r(i))},o)}),--u||r(i)});return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=bn(t),r=n.reject,o=on(function(){var o=et(t.resolve);at(e,function(e){o.call(t,e).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}});var Nn,Fn=[].slice,Dn=function(e){return function(t,n){var r=arguments.length>2,o=r?Fn.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};Be({global:!0,bind:!0,forced:/MSIE .\./.test(U)},{setTimeout:Dn(c.setTimeout),setInterval:Dn(c.setInterval)}),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT"}(Nn||(Nn={}));var Ln,Kn=function(){var e=v(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},qn=function(e,t){return RegExp(e,t)},$n={UNSUPPORTED_Y:u(function(){var e=qn("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:u(function(){var e=qn("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Vn=Object.keys||function(e){return ke(e,Ue)},Yn=a?Object.defineProperties:function(e,t){v(e);for(var n,r=Vn(t),o=r.length,i=0;o>i;)m.f(e,n=r[i++],t[n]);return e},Hn=te("IE_PROTO"),Xn=function(){},Wn=function(e){return"<script>"+e+"<\/script>"},Bn=function(){try{Ln=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Bn=Ln?function(e){e.write(Wn("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Ln):((t=p("iframe")).style.display="none",mt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Wn("document.F=Object")),e.close(),e.F);for(var n=Ue.length;n--;)delete Bn.prototype[Ue[n]];return Bn()};ne[Hn]=!0;var Qn,Gn,zn=Object.create||function(e,t){var n;return null!==e?(Xn.prototype=v(e),n=new Xn,Xn.prototype=null,n[Hn]=e):n=Bn(),void 0===t?n:Yn(n,t)},Jn=u(function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}),Zn=u(function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),er=fe.get,tr=RegExp.prototype.exec,nr=O("native-string-replace",String.prototype.replace),rr=tr,or=(Gn=/b*/g,tr.call(Qn=/a/,"a"),tr.call(Gn,"a"),0!==Qn.lastIndex||0!==Gn.lastIndex),ir=$n.UNSUPPORTED_Y||$n.BROKEN_CARET,cr=void 0!==/()??/.exec("")[1];(or||cr||ir||Jn||Zn)&&(rr=function(e){var t,n,r,o,i,c,u,a=this,f=er(a),s=f.raw;if(s)return s.lastIndex=a.lastIndex,t=rr.call(s,e),a.lastIndex=s.lastIndex,t;var l=f.groups,p=ir&&a.sticky,d=Kn.call(a),v=a.source,h=0,y=e;if(p&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),y=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(v="(?: "+v+")",y=" "+y,h++),n=new RegExp("^(?:"+v+")",d)),cr&&(n=new RegExp("^"+v+"$(?!\\s)",d)),or&&(r=a.lastIndex),o=tr.call(p?n:a,y),p?o?(o.input=o.input.slice(h),o[0]=o[0].slice(h),o.index=a.lastIndex,a.lastIndex+=o[0].length):a.lastIndex=0:or&&o&&(a.lastIndex=a.global?o.index+o[0].length:r),cr&&o&&o.length>1&&nr.call(o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o&&l)for(o.groups=c=zn(null),i=0;i<l.length;i++)c[(u=l[i])[0]]=o[u[1]];return o});var ur=rr;Be({target:"RegExp",proto:!0,forced:/./.exec!==ur},{exec:ur}),Y("species");var ar=RegExp.prototype,fr=function(e){return function(t,n){var r,o,i=String(j(t)),c=Te(n),u=i.length;return c<0||c>=u?e?"":void 0:(r=i.charCodeAt(c))<55296||r>56319||c+1===u||(o=i.charCodeAt(c+1))<56320||o>57343?e?i.charAt(c):r:e?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},sr=(fr(!1),fr(!0)),lr=function(e,t,n){return t+(n?sr(e,t).length:1)},pr=Math.floor,dr="".replace,vr=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,hr=/\$([$&'`]|\d{1,2})/g,yr=function(e,t,n,r,o,i){var c=n+e.length,u=r.length,a=hr;return void 0!==o&&(o=w(o),a=vr),dr.call(i,a,function(i,a){var f;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":f=o[a.slice(1,-1)];break;default:var s=+a;if(0===s)return i;if(s>u){var l=pr(s/10);return 0===l?i:l<=u?void 0===r[l-1]?a.charAt(1):r[l-1]+a.charAt(1):i}f=r[s-1]}return void 0===f?"":f})},mr=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==pe(e))throw TypeError("RegExp#exec called on incompatible receiver");return ur.call(e,t)},gr=Y("replace"),br=Math.max,Er=Math.min,Sr=function(e){return void 0===e?e:String(e)},Rr="$0"==="a".replace(/./,"$0"),Or=!!/./[gr]&&""===/./[gr]("a","$0");!function(e,t,n,r){var o=Y(e),i=!u(function(){var t={};return t[o]=function(){return 7},7!=""[e](t)}),c=i&&!u(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},t[o](""),!e});if(!i||!c||n){var a=/./[o],f=function(e,t,n){var r=Or?"$":"$0";return[function(e,n){var r=j(this),o=null==e?void 0:e[gr];return void 0!==o?o.call(e,r,n):t.call(String(r),e,n)},function(e,n){if("string"==typeof n&&-1===n.indexOf(r)&&-1===n.indexOf("$<")){var o=(c=t,u=e,f=n,(s=this.exec)===ur||s===ar.exec?i?{done:!0,value:a.call(this,u,f)}:{done:!0,value:c.call(u,this,f)}:{done:!1});if(o.done)return o.value}var c,u,f,s,l=v(this),p=String(e),d="function"==typeof n;d||(n=String(n));var h=l.global;if(h){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var g=mr(l,p);if(null===g)break;if(m.push(g),!h)break;""===String(g[0])&&(l.lastIndex=lr(p,xe(l.lastIndex),y))}for(var b="",E=0,S=0;S<m.length;S++){g=m[S];for(var R=String(g[0]),O=br(Er(Te(g.index),p.length),0),j=[],w=1;w<g.length;w++)j.push(Sr(g[w]));var T=g.groups;if(d){var P=[R].concat(j,O,p);void 0!==T&&P.push(T);var x=String(n.apply(void 0,P))}else x=yr(R,p,O,j,T,n);O>=E&&(b+=p.slice(E,O)+x,E=O+R.length)}return b+p.slice(E)}]}(0,""[e]);se(String.prototype,e,f[0]),se(ar,o,f[1])}}("replace",0,!!u(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!Rr||Or);var jr=Array.isArray||function(e){return"Array"==pe(e)},wr=Y("species"),Tr=function(e,t){var n;return jr(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!jr(n.prototype)?f(n)&&null===(n=n[wr])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Pr=[].push,xr=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,c=7==e,u=5==e||i;return function(a,f,s,l){for(var p,d,v=w(a),h=Ee(v),y=ot(f,s,3),m=xe(h.length),g=0,b=l||Tr,E=t?b(a,m):n||c?b(a,0):void 0;m>g;g++)if((u||g in h)&&(d=y(p=h[g],g,v),e))if(t)E[g]=d;else if(d)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:Pr.call(E,p)}else switch(e){case 4:return!1;case 7:Pr.call(E,p)}return i?-1:r||o?o:E}},Ir={forEach:xr(0),map:xr(1),filter:xr(2),some:xr(3),every:xr(4),find:xr(5),findIndex:xr(6),filterOut:xr(7)},Cr=Y("species"),_r=function(e){return D>=51||!u(function(){var t=[];return(t.constructor={})[Cr]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Ar=Ir.filter;Be({target:"Array",proto:!0,forced:!_r("filter")},{filter:function(e){return Ar(this,e,arguments.length>1?arguments[1]:void 0)}});var kr=Ir.map;Be({target:"Array",proto:!0,forced:!_r("map")},{map:function(e){return kr(this,e,arguments.length>1?arguments[1]:void 0)}}),Be({target:"Object",stat:!0,forced:u(function(){Vn(1)})},{keys:function(e){return Vn(w(e))}});var Ur,Mr,Nr=[].join,Fr=Ee!=Object,Dr=!!(Ur=[].join)&&u(function(){Ur.call(null,",",1)});function Lr(e){var t=e.method||Nn.GET,n=e.timeout||6e4,r=e.headers,o=e.body,i=function(e,t){if(e=e.replace(/\?$/,""),!t)return e;var n=Object.keys(t).map(function(e){return e+"="+t[e]}).filter(function(e){return!!e});return n.length?[e,n.join("&")].join("?"):e}(e.url,e.query);return new Promise(function(e){var c,u=(c="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,"undefined"!=typeof XMLHttpRequest&&c?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP")),a="[object XDomainRequest]"===Object.prototype.toString.call(u);if(u.open(t,i),r&&u.setRequestHeader)for(var f in r)u.setRequestHeader(f,r[f]);if(a){u.timeout=n,u.onload=function(){e({data:u.responseText,status:u.status||200})},u.onerror=function(){e({status:u.status||0})},u.ontimeout=function(){e({status:u.status||0})};var s="object"==typeof o?JSON.stringify(o):o;u.send(s)}else u.onreadystatechange=function(){4===u.readyState&&e({data:u.responseText,status:u.status})},u.onerror=function(){e({status:u.status||0})},setTimeout(function(){return e({status:u.status||0})},n),u.send(o)})}Be({target:"Array",proto:!0,forced:Fr||!Dr},{join:function(e){return Nr.call(Se(this),void 0===e?",":e)}}),function(e){e[e.SUCCESS=200]="SUCCESS",e[e.LESSHOLDER_SUCCESS=0]="LESSHOLDER_SUCCESS",e[e.SEND_FREQUENCY_TOO_FAST=5e3]="SEND_FREQUENCY_TOO_FAST",e[e.REQUEST_ERROR=400]="REQUEST_ERROR",e[e.SERVER_ERROR=500]="SERVER_ERROR",e[e.VERIFY_CODE_ERROR=1e3]="VERIFY_CODE_ERROR",e[e.VERIFY_CODE_TIMEOUT=2e3]="VERIFY_CODE_TIMEOUT",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED"}(Mr||(Mr={}));var Kr={SEND_FREQUENCY_TOO_FAST:{code:5e3,msg:"发送频率过快"},REQUEST_ERROR:{code:400,msg:"错误的请求"},SERVER_ERROR:{code:500,msg:"服务器错误"},VERIFY_CODE_ERROR:{code:1e3,msg:"验证码错误"},VERIFY_CODE_TIMEOUT:{code:2e3,msg:"验证码过期"},PERMISSION_DENIED:{code:403,msg:"权限校验失败"}},qr={},$r={};for(var Vr in Kr){var Yr=Kr[Vr],Hr=Yr.code;qr[Hr]=Vr,$r[Hr]=Yr}var Xr,Wr=function(){try{return Promise.resolve(function(e,t){try{var n=Promise.resolve(Lr({url:"http://navqa.cn.ronghub.com/whiteboard/config.json"})).then(function(e){var t=e.data,n=e.status;if(n!==Mr.SUCCESS)return Promise.reject({code:n,msg:qr[n]||qr[500]});var r=JSON.parse(t),o=r.iwbConferenceUri,i=r.iwbLeaseUri,c=r.code;return c!==Mr.SUCCESS?Promise.reject({code:c,msg:qr[c]}):{iwbConferenceUri:o,iwbLeaseUri:i}})}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(0,function(e){return Promise.reject(e)}))}catch(e){return Promise.reject(e)}};function Br(e){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","M","N","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",r=0;r<e;r++)n+=t[Math.ceil(30*Math.random())];return n}function Qr(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}!function(e){e.AMDIN="admin",e.VIEWER=" viewer",e.RECORD="viewer"}(Xr||(Xr={}));var Gr=function(e){try{return Promise.resolve(Qr(function(){return Promise.resolve(Wr()).then(function(t){var n=t.iwbConferenceUri;return Promise.resolve(function(e){try{return Promise.resolve(function(t,n){try{var r=Promise.resolve(Lr({url:"http://"+e.baseUrl+"/api/v1/iwb/lease",method:"POST",headers:{"RC-Token":e["RC-Token"],"RC-AppKey":e["RC-AppKey"]},query:{hubId:e.hubId,outTradeNo:"AIQGV8BC36",name:"融云测试房间1",loadUrl:"",saveUrl:"",ownerId:"1234",ownerName:"rongyundemo",minutes:60,points:10,delayMinutes:5,saveInterval:30,defaultBgColor:"#333333",defaultPenColor:"#FFFFFF",laserPen:!1,ext:{pensettings:{colors:["#FFFFFF","#000000","#EB5757","#47b04b","#1194f6","#ffc200","#9d1bb2","#ec1561","#7a5547","#99CCCC","#003366","#808000"]}}}})).then(function(e){var t=e.data,n=e.status;if(n!==Mr.SUCCESS)return Promise.reject({code:n,msg:qr[n]||qr[500]});var r=JSON.parse(t),o=r.contract,i=r.serverId,c=r.code;return 0!==c?Promise.reject({code:c,msg:qr[c]}):{contract:o,serverId:i}})}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,function(e){return Promise.reject(e)}))}catch(e){return Promise.reject(e)}}({"RC-AppKey":e.appkey,"RC-Token":e.token,baseUrl:t.iwbLeaseUri,hubId:e.hubId})).then(function(t){var r=t.contract;return r.roomName=e.roomName,r.nickname=e.nickname,r.role=e.role,r.appKey=e.appkey,Promise.resolve(function(e){try{return Promise.resolve(function(t,n){try{var r=function(){var t=Br(4),n={appKey:e.appKey,roomCode:e.id,name:e.roomName,contract:{},user:{uid:t,role:e.role,token:t,name:e.nickname+Br(2)},token:t};for(var r in e)n.contract[r]=e[r];return Promise.resolve(Lr({url:e.baseUrl+"/api/1/im/tstore/?activeSeconds=300",query:n,method:"POST",headers:{"RC-Token":e.accessToken,"RC-AppKey":e.appKey}})).then(function(e){var t=e.data,n=e.status;if(n!==Mr.SUCCESS)return Promise.reject({code:n,msg:qr[n]||qr[500]});var r=JSON.parse(t),o=r.key,i=r.code;return i!==Mr.SUCCESS?Promise.reject({code:i,msg:qr[i]}):{key:o}})}()}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,function(e){return Promise.reject(e)}))}catch(e){return Promise.reject(e)}}(r)).then(function(e){return"http://"+n+"?key="+e.key})})})},function(e){return Promise.reject(e)}))}catch(e){return Promise.reject(e)}},zr=function(e){try{return Promise.resolve(Qr(function(){return Promise.resolve(Wr()).then(function(t){return Promise.resolve(function(e){try{return Promise.resolve(function(t,n){try{var r=Promise.resolve(Lr({url:"http://"+e.baseUrl+"/api/v1/iwb/free/",method:"PUT",headers:{"RC-Token":e["RC-Token"],"RC-AppKey":e["RC-AppKey"]},query:e})).then(function(e){var t=e.data,n=e.status;return 200===n&&"string"==typeof t?0===JSON.parse(t).code:Promise.reject({res:t,status:n})})}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,function(e){return Promise.reject(e)}))}catch(e){return Promise.reject(e)}}({baseUrl:t.iwbLeaseUri,hubId:e.hubId,adminToken:e.adminToken,applyId:"123",applyName:"test",reason:"nothing","RC-Token":e.token,"RC-AppKey":e.appKey}))})},function(e){return Promise.reject(e)}))}catch(e){return Promise.reject(e)}};e.default={joinRoom:Gr,exitRoom:zr},e.exitRoom=zr,e.joinRoom=Gr});
//# sourceMappingURL=index.umd.js.map
